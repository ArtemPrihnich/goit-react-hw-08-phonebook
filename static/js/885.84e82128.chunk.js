"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[885],{3885:function(e,n,r){r.r(n),r.d(n,{default:function(){return Z}});var t=r(2791),o=r(9439),a=r(5984),i=r(9434),s=function(e){return e.contacts.isLoading},l=function(e){return e.contacts.items},c=function(e){return e.contacts.error},u=function(e){return e.contacts.firstLoading},d=function(e){return e.contacts.operationDelete},m=function(e){return e.contacts.operationChange},h=function(e){var n=e.contacts,r=e.filter,t=n.items;return r?t.filter((function(e){var n=e.name,t=e.number;return n.toLocaleLowerCase().includes(r.toLocaleLowerCase())||t.toLocaleLowerCase().includes(r.toLocaleLowerCase())})):t},x=r(5036),p=r(5863),f=r(824),g=r(5777),v=r(9085),j=r(184);function b(){var e=(0,i.v9)(h),n=(0,i.v9)(s),r=(0,i.I0)(),l=(0,t.useState)(""),c=(0,o.Z)(l,2),u=c[0],d=c[1],m=(0,t.useState)(""),b=(0,o.Z)(m,2),C=b[0],y=b[1],w=function(e){var n=e.currentTarget,r=n.name,t=n.value;return"name"===r?d(t):"number"===r?y(t):void 0},k=(0,a.x0)(),I=(0,a.x0)(),L=function(e){if(S(e))return(0,v.Am)("This contact is already on your list.",{position:"top-right",type:"warning",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"});r((0,x.uK)(e)),d(""),y("")},S=function(n){var r=n.name;return e.find((function(e){return e.name.toLocaleLowerCase()===r.toLocaleLowerCase()}))};return(0,j.jsxs)(p.NI,{as:"form",isRequired:!0,autoComplete:"off",style:{border:"1px solid #A0AEC0",padding:"10px 20px",borderRadius:"10px"},onSubmit:function(e){e.preventDefault(),L({name:u,number:C})},children:[(0,j.jsx)(p.lX,{htmlFor:k,children:"Name"}),(0,j.jsx)(f.II,{type:"text",name:"name",value:u,id:k,onChange:w,borderColor:"gray.400",placeholder:"Ivan Ivanov"}),(0,j.jsx)(p.lX,{htmlFor:I,children:"Number"}),(0,j.jsx)(f.II,{type:"number",name:"number",value:C,id:I,onChange:w,borderColor:"gray.400",placeholder:"+38 (012) 345 67 89"}),(0,j.jsx)(g.zx,{colorScheme:"blackAlpha",isLoading:n,loadingText:"Adding contact",ml:"6",mt:"4",type:"submit",children:"Add Contact"})]})}var C=r(1413);function y(){var e=(0,i.v9)(c);return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{style:{display:"block",width:"450px",margin:"0 auto",textAlign:"center",paddingTop:"100px",fontSize:"28px"},children:["Oops, something went wrong :( ",e]})})}var w=r(1197),k=r(7552),I=r(4190),L=r(9333),S=r(7266),A=r(8699);function O(e){var n=e.data,r=e.onClose,s=(0,t.useState)(n.name),l=(0,o.Z)(s,2),c=l[0],u=l[1],d=(0,t.useState)(n.number),m=(0,o.Z)(d,2),b=m[0],C=m[1],y=(0,i.v9)(h),w=(0,i.I0)(),k=(0,a.x0)(),L=(0,a.x0)(),S=function(e){var n=e.currentTarget,r=n.name,t=n.value;return"name"===r?u(t):"number"===r?C(t):void 0},A=function(e){var n=e.name;return y.find((function(e){return e.name.toLocaleLowerCase()===n.toLocaleLowerCase()}))};return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(p.NI,{as:"form",autoComplete:"off",onSubmit:function(e){if(e.preventDefault(),n.name!==c||n.number!==b){if(A({name:c}))return(0,v.Am)("This contact is already on your list.",{position:"top-right",type:"warning",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"});w((0,x.$Z)({id:n.id,name:c,number:b})),r()}else(0,v.Am)("You need change name or number",{position:"top-right",type:"info",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},pb:4,pr:6,pl:6,children:[(0,j.jsx)(p.lX,{htmlFor:k,children:"Name"}),(0,j.jsx)(f.II,{id:k,type:"text",name:"name",value:c,onChange:S}),(0,j.jsx)(p.lX,{htmlFor:L,pt:4,children:"Number"}),(0,j.jsx)(f.II,{id:L,type:"text",name:"number",value:b,onChange:S}),(0,j.jsxs)(I.kC,{justify:"flex-end",pt:3,children:[(0,j.jsx)(g.zx,{colorScheme:"blue",type:"submit",mr:4,children:"Save"}),(0,j.jsx)(g.zx,{onClick:r,children:"Close"})]})]})})}function F(){var e=(0,i.v9)(h),n=(0,i.v9)(u),r=(0,i.v9)(c),a=(0,i.v9)(d),s=(0,i.v9)(m),l=(0,i.I0)(),p=(0,w.qY)(),f=p.onOpen,v=p.isOpen,b=p.onClose,F=(0,t.useState)(null),_=(0,o.Z)(F,2),z=_[0],T=_[1];(0,t.useEffect)((function(){l((0,x.yF)())}),[l]);return(0,j.jsxs)(j.Fragment,{children:[n&&(0,j.jsx)(k.Ex,{w:700,ml:"auto",mr:"auto",size:"xs",isIndeterminate:!0}),!n&&r&&(0,j.jsx)(y,{}),(0,j.jsx)(I.MI,{columns:[1,1,1,2],spacing:6,pt:6,pb:6,children:!r&&(null===e||void 0===e?void 0:e.map((function(e){var n=e.name,r=e.number,t=e.id;return(0,j.jsxs)(I.kC,{justify:"space-between",border:"1px solid gray",borderRadius:"4px",pt:"2",pb:"2",pl:"4",pr:"4",fontSize:"xl",children:[(0,j.jsxs)(I.xu,{children:[(0,j.jsxs)(I.kC,{align:"center",children:[(0,j.jsx)(L.qE,{size:"xs",mr:"2"}),n]}),(0,j.jsxs)(I.kC,{align:"center",mt:1,children:[(0,j.jsx)(A.qW,{w:6,h:6,color:"gray.600",mr:"2"}),r]})]}),(0,j.jsxs)(I.kC,{alignItems:"center",children:[(0,j.jsx)(g.hU,{"aria-label":"Change button",isLoading:s===t,icon:(0,j.jsx)(A.dY,{w:5,h:5}),onClick:function(){return e={name:n,number:r,id:t},T((0,C.Z)({},e)),f();var e}}),(0,j.jsx)(g.hU,{"aria-label":"Delete button",isLoading:a===t,icon:(0,j.jsx)(A.pJ,{w:5,h:5}),onClick:function(){return function(e){var n=(0,x.GK)(e);l(n)}(t)}})]})]},t)})))}),(0,j.jsxs)(S.u_,{isOpen:v,children:[(0,j.jsx)(S.ZA,{}),(0,j.jsxs)(S.hz,{children:[(0,j.jsx)(S.xB,{children:"Change Contact"}),(0,j.jsx)(O,{data:z,onClose:function(){b()}})]})]})]})}var _=function(e){return e.filter},z=r(5653);function T(){var e=(0,i.v9)(_),n=(0,i.I0)();return(0,j.jsxs)(I.kC,{justify:"center",align:"center",flexDirection:"column",pt:4,pb:4,children:[(0,j.jsx)(I.X6,{as:"h2",textAlign:"center",children:"Write first latter of name to quick search"}),(0,j.jsx)(f.II,{w:500,mt:"4",borderColor:"gray.400",type:"text",name:"filter",value:e,placeholder:"Enter some name ...",onChange:function(e){var r=e.currentTarget,t=r.name,o=r.value;"filter"===t&&n((0,z.T)(o))}})]})}function Z(){var e=(0,i.v9)(l);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(I.xu,{p:4,children:(0,j.jsx)(b,{})}),(0,j.jsxs)(I.xu,{children:[e.length>0&&(0,j.jsx)(T,{}),(0,j.jsx)(F,{})]})]})}}}]);
//# sourceMappingURL=885.84e82128.chunk.js.map